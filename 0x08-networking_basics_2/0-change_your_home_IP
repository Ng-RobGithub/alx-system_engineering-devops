#!/usr/bin/env bash
# Configures an Ubuntu server as follows:
#   - localhost resolves to 127.0.0.2
#   - facebook.com resolves to 8.8.8.8

# Define the target hosts file
target_hosts_file="/etc/hosts"

# Create a temporary hosts file
temp_hosts_file="$(mktemp)"

# Append the new host entries to the temporary hosts file
cat <<EOL > "$temp_hosts_file"
127.0.0.2	localhost
8.8.8.8		facebook.com
EOL

# Replace the original hosts file with the modified temporary hosts file
sudo mv "$temp_hosts_file" "$target_hosts_file"

# Cleanup temporary file (optional)
# rm "$temp_hosts_file"
